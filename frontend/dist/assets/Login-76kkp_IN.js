import{r as t,U as S,F as k,u as C,j as e,N as L,l as P,a as F,b as E,L as m,B as r,c as I}from"./index-042nz8j6.js";const h="https://ees121.com";console.log(h);const U=()=>{const{user:f}=t.useContext(S),{fcmToken:p}=t.useContext(k),[o,j]=t.useState(""),[l,w]=t.useState(""),[i,c]=t.useState(!1),[n,b]=t.useState(!1),v=C();if(localStorage.getItem("token"),f)return e.jsx(L,{to:"/"});const y=()=>{b(!n)},N=async a=>{var d,x,g,u;if(a.preventDefault(),!o||!l){r.error("Please fill in all fields");return}c(!0);try{const s=await I.post(`${h}/auth/loginUserweb`,{phone:o,password:l,fcmToken:p},{withCredentials:!0});console.log(s.data.message,"Login response"),console.log(s.data,"data"),s.status===200&&(localStorage.setItem("token",JSON.stringify(s.data.token)),v("/"),window.location.reload(),r("Login Successful"),console.log(s.data.message,"Login Successful..."))}catch(s){console.log(s,"login error"),r((x=(d=s==null?void 0:s.response)==null?void 0:d.data)==null?void 0:x.message),console.log((u=(g=s==null?void 0:s.response)==null?void 0:g.data)==null?void 0:u.message,"fetch error")}finally{c(!1)}};return e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"  text-gray-900 flex justify-center",children:e.jsxs("div",{className:" sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[e.jsx("div",{className:"lg:w-1/2 xl:w-6/12 p-6 sm:p-12",children:e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"w-full flex-1 mt-8",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"mb-12",children:e.jsx("img",{src:P,width:100})})}),e.jsx("form",{action:"",onSubmit:N,children:e.jsxs("div",{className:"mx-auto max-w-xs",children:[e.jsx("input",{type:"text",value:o,onChange:a=>j(a.target.value),className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white ",placeholder:"phone"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{value:l,onChange:a=>w(a.target.value),className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-3",type:n?"text":"password",placeholder:"Password"}),e.jsx("button",{type:"button",onClick:y,className:"absolute right-4 top-11",children:n?e.jsx(F,{}):e.jsx(E,{})})]}),e.jsx("p",{className:"mt-4 text-sm  text-gray-600",children:e.jsx(m,{to:"/forgotPassword",className:"text-success text-bold hover:underline",children:"Forgot Password "})}),e.jsxs("button",{type:"submit",disabled:i,className:"mt-5 tracking-wide font-semibold bg-green-600 text-white w-full py-4 rounded-lg hover:bg-green-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[e.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),e.jsx("circle",{cx:"8.5",cy:7,r:4}),e.jsx("path",{d:"M20 8v6M23 11h-6"})]}),e.jsx("span",{className:"ml-4",children:i?e.jsx("div",{className:"spinner-border text-white",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})}):"Sign In"})]}),e.jsxs("p",{className:"mt-4 text-sm text-center text-gray-600",children:["Don't have an account? ",e.jsx(m,{to:"/register",className:"text-success text-bold hover:underline",children:"Sign up "})]})]})})]})})}),e.jsx("div",{className:"flex-1 bg-green-100 text-center hidden lg:flex",children:e.jsx("div",{className:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat",children:e.jsx("img",{src:"https://readymadeui.com/signin-image.webp",alt:""})})})]})})})})};export{U as default};
