import{r as o,u as v,j as a,c as y,B as b}from"./index-DuESt0g0.js";const w="https://ees121.com",j=()=>{const[r,c]=o.useState(""),[n,l]=o.useState([]),[g,u]=o.useState([]),[S,i]=o.useState(!1),d=v(),p=async()=>{var e,s;i(!0);try{const t=await y.get(`${w}/category/getAllCategory`);console.log(t.data,"cate search"),u(t.data.category)}catch(t){console.error("Error fetching categories:",t),b((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)}finally{i(!1)}},h=e=>{const s=e.target.value;if(c(s),s.trim()){const t=g.filter(f=>f.categoryName.toLowerCase().includes(s.toLowerCase())).slice(0,10);l(t)}else l([])},m=e=>{e.preventDefault(),r.trim()&&d("/serviceDetail",{state:r})},x=e=>{c(e),d("/serviceDetail",{state:e})};return o.useEffect(()=>{p()},[]),a.jsxs("form",{onSubmit:m,className:"w-100",style:{position:"relative"},children:[a.jsxs("div",{className:"search-input border rounded-1 ps-3 pe-2 d-flex align-items-center",children:[a.jsx("input",{type:"text",value:r,onChange:h,className:"grow outline-none bg-base-100 py-2",placeholder:"Search service"}),a.jsx("button",{type:"submit",className:"p-1 rounded-1 btn-sm text-white bg-orange",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-5 w-5 opacity-100",children:a.jsx("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"})})})]}),n.length>0&&a.jsx("ul",{className:"rounded-2",style:{position:"absolute",top:"50px",width:"100%",background:"#fff",border:"1px solid #ccc"},children:n.map((e,s)=>a.jsx("li",{onClick:()=>x(e.categoryName),style:{padding:"8px",cursor:"pointer"},className:"hover:bg-red-200",children:e.categoryName},s))})]})};export{j as default};
