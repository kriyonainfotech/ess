import{u as f,r,c as u,B as N,j as e,A as p,e as v,f as y,h as w}from"./index-CiKucrro.js";import{$ as S}from"./module-VjubTjdq.js";import b from"./SearchBox-B_nNsUz6.js";const C="https://ees121.com",A=()=>{const o=f();JSON.parse(localStorage.getItem("token"));const[c,x]=r.useState([]),[i,n]=r.useState(!1),[l,d]=r.useState(null),m=r.useCallback(async()=>{var s,g;if(!i){n(!0);try{const a=await u.get(`${C}/category/getAllCategory`);if(!a.data||!Array.isArray(a.data.category))throw new Error("Invalid data format");const h=Array.from(new Map(a.data.category.map(t=>[t.categoryName.toLowerCase(),t])).values()).sort((t,j)=>t.categoryName.localeCompare(j.categoryName));x(h),d(null)}catch(a){console.error("Error fetching categories:",a),d(((g=(s=a==null?void 0:a.response)==null?void 0:s.data)==null?void 0:g.message)||"Failed to fetch categories"),N.error("Error loading categories")}finally{n(!1)}}},[]);return r.useEffect(()=>{m()},[m]),l?e.jsx("div",{className:"text-center p-4 text-danger",children:l}):e.jsx("section",{children:e.jsxs("div",{className:"container bd-orange",children:[e.jsx("div",{className:"row row-cols-3 row-cols-lg-5 overflow-hidden",children:c.map(s=>e.jsx("div",{className:"col",style:{cursor:"pointer"},onClick:()=>o("/serviceDetail",{state:s.categoryName}),children:e.jsxs("div",{className:"border-0 w-100 h-100 text-center items-center rounded-md",children:[e.jsx("figure",{className:"w-full m-0 p-2",children:e.jsx("img",{className:"img-fluid w-100 border-orange rounded-4 p-1 overflow-hidden",style:{objectFit:"cover"},src:s.image,alt:s.categoryName,loading:"lazy"})}),e.jsx("h6",{className:"text-md text-capitalize",children:s.categoryName})]})},s._id))}),i&&e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"10vh"},children:e.jsx(S,{color:"#00BFFF",height:50,width:50})})]})})},k=()=>{const[o,c]=r.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(v,{}),e.jsx(y,{}),e.jsxs("div",{className:"my-32",children:[e.jsx("section",{children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 d-lg-none pb-3",children:e.jsx(b,{})})})})}),o?e.jsx("div",{className:"spinner-border text-white",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})}):e.jsx(A,{})]}),e.jsx(w,{})]})};export{k as default};
